# Java 数据类型

## 基本数据类型（8种）
### 内置数据类型：
- 整数类型：
    - byte: 8位、默认值0、范围：-128~127
    - short: 16位、默认值0、范围：-32768~32767
    - int: 32位、默认值0、范围：-2147483648~2147483647
    - long: 64位、默认值0L、范围：-9223372036854775808~9223372036854775807
- 浮点类型：
    - float: 32位、默认值0.0f、范围：1.4E-45~3.4028235E38
    - double: 64位、默认值0.0d、范围：4.9E-324~1.7976931348623157E308
- 字符类型：
    - char: 16位、默认值\u0000、范围：\u0000~\uffff
- 布尔类型：
    - boolean: 1位、默认值false、范围：true、false

## 引用数据类型：
- 类
- 接口
- 对象和数组都属于引用数据类型
- 所有引用类型的默认值均为 `null`
- 引用变量可以引用任何与其类型兼容的对象

## 自动类型转换

### 基本概念
在Java中，整型、实型（常量）、字符型数据可以进行混合运算。运算时，不同类型的数据会先转换为同一类型，然后再进行运算。

```java
低 ------------------------------------> 高
byte → short → char → int → long → float → double
```

#### 转换规则说明
1. **布尔类型限制**  
   - ❌ 不能对`boolean`类型进行类型转换
   - 示例：`boolean flag = true; int num = (int)flag;` → 编译错误

2. **对象类型限制**  
   - ❌ 不能把对象类型转换成不相关类的对象
   - 示例：`String str = "123"; Integer num = (Integer)str;` → 编译错误

3. **强制类型转换要求**  
   - 🔀 从大容量类型转小容量类型时**必须显式强制转换**
   - 示例：  
     ```java
     double d = 100.04;
     long l = (long)d;  // 必须加强制转换符
     ```

4. **精度损失风险**  
   - ⚠️ 转换可能导致**溢出**或**精度损失**
   - 示例：  
     ```java
     int i = 128;
     byte b = (byte)i;  // 输出-128（溢出）
     ```

5. **浮点转整型规则**  
   - ✂️ **直接舍弃小数部分**（非四舍五入）
   - 示例：  
     ```java
     System.out.println((int)23.7);    // 输出23
     System.out.println((int)-45.89f); // 输出-45
     ```

#### 经典示例对比表
| 操作 | 代码示例 | 结果 | 说明 |
|------|----------|------|------|
| 自动转换 | `long l = 100;` | 成功 | int→long自动转换 |
| 强制转换 | `int i = (int)3.14;` | i=3 | 直接截断小数 |
| 溢出案例 | `byte b = (byte)129;` | b=-127 | 超出byte范围(-128~127) |
| 非法转换 | `boolean b = 1;` | 编译错误 | boolean不参与数值转换 |

#### 最佳实践建议
1. 进行强制转换前，先检查数值范围
   ```java
   if (value >= Byte.MIN_VALUE && value <= Byte.MAX_VALUE) {
       byte b = (byte)value;
   }
   ```
2. 浮点转整型时考虑使用Math.round()
   ```java
   int i = (int)Math.round(3.14);  // 输出3
   ```
   